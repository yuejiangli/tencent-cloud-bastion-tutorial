# =============================================================================
# Terraform設定とプロバイダー定義
# インフラストラクチャ管理ツールの設定とクラウドプロバイダー接続
# バージョン管理と認証情報の統一管理
# =============================================================================

# =============================================================================
# Terraformコア設定
# バージョン制約とプロバイダー要件定義
# =============================================================================

terraform {
  # Terraformバージョン制約：安定性と機能互換性確保
  required_version = ">= 1.0" # 1.0以降の安定版を要求

  # 必要プロバイダーとバージョン制約
  required_providers {
    # TencentCloudプロバイダー：中国テンセントクラウドサービス管理
    tencentcloud = {
      source  = "tencentcloudstack/tencentcloud" # 公式プロバイダー
      version = "~> 1.81"                        # 1.81.x系の最新版（後方互換性保証）
    }
  }
}

# =============================================================================
# TencentCloudプロバイダー設定
# 認証情報とリージョン設定
# =============================================================================

provider "tencentcloud" {
  # リージョン設定：東京リージョン（低レイテンシ、データ主権考慮）
  region = "ap-tokyo"

  # 認証情報設定：環境変数から読み込み（セキュリティベストプラクティス）
  # 以下の環境変数を設定してください：
  # export TENCENTCLOUD_SECRET_ID="your-secret-id"
  # export TENCENTCLOUD_SECRET_KEY="your-secret-key"
  
  # セキュリティ考慮事項：
  # 1. 認証情報をコードに直接記述しない
  # 2. 環境変数を使用してセキュアに管理
  # 3. 最小権限の原則に従ったIAMポリシー適用
  # 4. 定期的な認証情報ローテーション実施
}

# =============================================================================
# プロバイダー設定の詳細説明:
# 
# TencentCloudプロバイダーの特徴:
# 1. 中国最大級のクラウドプラットフォーム
# 2. グローバル展開（アジア太平洋地域に強み）
# 3. 豊富なサービスラインナップ（CVM、VPC、CLB等）
# 4. 競争力のある価格設定
# 
# 認証方法の選択肢:
# 1. 認証情報ファイル（推奨）：~/.tencentcloud/credentials
# 2. 環境変数：TENCENTCLOUD_SECRET_ID, TENCENTCLOUD_SECRET_KEY
# 3. インスタンスロール（EC2内実行時）
# 4. 一時的な認証情報（STS）
# 
# リージョン選択の考慮事項:
# - ap-tokyo: 日本向けサービス、低レイテンシ
# - ap-singapore: 東南アジア向け、英語サポート充実
# - ap-hongkong: 中国本土外、国際接続良好
# - na-toronto: 北米向け、データ主権考慮
# 
# バージョン管理戦略:
# - メジャーバージョン固定で安定性確保
# - マイナーバージョンは自動更新で機能追加対応
# - 定期的なバージョンアップデート計画
# =============================================================================